/**!
 * FlexSearch.js v0.7.31 (Light)
 * Copyright 2018-2022 Nextapps GmbH
 * Author: Thomas Wilkerling
 * Licence: Apache-2.0
 * https://github.com/nextapps-de/flexsearch
 */
(function(self){'use strict';function r(a,b){return"undefined"!==typeof a?a:b}function u(a){const b=Array(a);for(let c=0;c<a;c++)b[c]=v();return b}function v(){return Object.create(null)}function A(a,b){return b.length-a.length};const B=/[\p{Z}\p{S}\p{P}\p{C}]+/u;function C(a,b){const c=Object.keys(a),d=c.length,f=[];let g="",e=0;for(let h=0,k,q;h<d;h++)k=c[h],(q=a[k])?(f[e++]=D(b?"(?!\\b)"+k+"(\\b|_)":k),f[e++]=q):g+=(g?"|":"")+k;g&&(f[e++]=D(b?"(?!\\b)("+g+")(\\b|_)":"("+g+")"),f[e]="");return f}function E(a,b){for(let c=0,d=b.length;c<d&&(a=a.replace(b[c],b[c+1]),a);c+=2);return a}function D(a){return new RegExp(a,"g")};function G(a){if(a=(""+a).toLowerCase())if(this.matcher&&(a=E(a,this.matcher)),this.stemmer&&1<a.length&&(a=E(a,this.stemmer)),B||""===B)if(a=a.split(B),this.filter){var b=this.filter;const c=a.length,d=[];for(let f=0,g=0;f<c;f++){const e=a[f];e&&!b[e]&&(d[g++]=e)}a=d}return a};const H={},I={};function J(a,b,c,d){const f=a.length;let g=[],e,h,k=0;d&&(d=[]);for(let q=f-1;0<=q;q--){const m=a[q],t=m.length,p=v();let l=!e;for(let n=0;n<t;n++){const z=m[n],x=z.length;if(x)for(let F=0,y,w;F<x;F++)if(w=z[F],e){if(e[w]){if(!q)if(c)c--;else if(g[k++]=w,k===b)return g;if(q||d)p[w]=1;l=!0}if(d&&(y=(h[w]||0)+1,h[w]=y,y<f)){const N=d[y-2]||(d[y-2]=[]);N[N.length]=w}}else p[w]=1}if(d)e||(h=p);else if(!l)return[];e=p}if(d)for(let q=d.length-1,m,t;0<=q;q--){m=d[q];t=m.length;for(let p=0,l;p<t;p++)if(l=
m[p],!e[l]){if(c)c--;else if(g[k++]=l,k===b)return g;e[l]=1}}return g};function K(a,b){if(!(this instanceof K))return new K(a);let c;if(a){var d=a.charset;c=a.lang;"string"===typeof d&&(-1===d.indexOf(":")&&(d+=":default"),d=I[d]);"string"===typeof c&&(c=H[c])}else a={};let f,g,e=a.context||{};this.encode=a.encode||d&&d.encode||G;this.register=b||v();this.resolution=f=a.resolution||9;this.tokenize=b=d&&d.tokenize||a.tokenize||"strict";this.depth="strict"===b&&e.depth;this.bidirectional=r(e.bidirectional,!0);this.optimize=g=r(a.optimize,!0);this.fastupdate=r(a.fastupdate,
!0);this.minlength=a.minlength||1;this.boost=a.boost;this.map=g?u(f):v();this.resolution_ctx=f=e.resolution||1;this.ctx=g?u(f):v();this.rtl=d&&d.rtl||a.rtl;this.matcher=(b=a.matcher||c&&c.matcher)&&C(b,!1);this.stemmer=(b=a.stemmer||c&&c.stemmer)&&C(b,!0);if(a=b=a.filter||c&&c.filter){a=b;d=v();for(let h=0,k=a.length;h<k;h++)d[a[h]]=1;a=d}this.filter=a}K.prototype.append=function(a,b){return this.add(a,b,!0)};
K.prototype.add=function(a,b,c,d){if(b&&(a||0===a)){if(!d&&!c&&this.register[a])return this.update(a,b);b=this.encode(""+b);if(d=b.length){const q=v(),m=v(),t=this.depth,p=this.resolution;for(let l=0;l<d;l++){let n=b[this.rtl?d-1-l:l];var f=n.length;if(n&&f>=this.minlength&&(t||!m[n])){var g=L(p,d,l),e="";switch(this.tokenize){case "full":if(2<f){for(g=0;g<f;g++)for(var h=f;h>g;h--)if(h-g>=this.minlength){var k=L(p,d,l,f,g);e=n.substring(g,h);this.push_index(m,e,k,a,c)}break}case "reverse":if(1<f){for(h=
f-1;0<h;h--)e=n[h]+e,e.length>=this.minlength&&(k=L(p,d,l,f,h),this.push_index(m,e,k,a,c));e=""}case "forward":if(1<f){for(h=0;h<f;h++)e+=n[h],e.length>=this.minlength&&this.push_index(m,e,g,a,c);break}default:if(this.boost&&(g=Math.min(g/this.boost(b,n,l)|0,p-1)),this.push_index(m,n,g,a,c),t&&1<d&&l<d-1)for(f=v(),e=this.resolution_ctx,g=n,h=Math.min(t+1,d-l),f[g]=1,k=1;k<h;k++)if((n=b[this.rtl?d-1-l-k:l+k])&&n.length>=this.minlength&&!f[n]){f[n]=1;const z=L(e+(d/2>e?0:1),d,l,h-1,k-1),x=this.bidirectional&&
n>g;this.push_index(q,x?g:n,z,a,c,x?n:g)}}}}this.fastupdate||(this.register[a]=1)}}return this};function L(a,b,c,d,f){return c&&1<a?b+(d||0)<=a?c+(f||0):(a-1)/(b+(d||0))*(c+(f||0))+1|0:0}
K.prototype.push_index=function(a,b,c,d,f,g){let e=g?this.ctx:this.map;if(!a[b]||g&&!a[b][g])this.optimize&&(e=e[c]),g?(a=a[b]||(a[b]=v()),a[g]=1,e=e[g]||(e[g]=v())):a[b]=1,e=e[b]||(e[b]=[]),this.optimize||(e=e[c]||(e[c]=[])),f&&e.includes(d)||(e[e.length]=d,this.fastupdate&&(a=this.register[d]||(this.register[d]=[]),a[a.length]=e))};
K.prototype.search=function(a,b,c){c||(b||"object"!==typeof a?"object"===typeof b&&(c=b):(c=a,a=c.query));let d=[],f;let g,e=0;if(c){a=c.query||a;b=c.limit;e=c.offset||0;var h=c.context;g=!1}if(a&&(a=this.encode(""+a),f=a.length,1<f)){c=v();var k=[];for(let m=0,t=0,p;m<f;m++)if((p=a[m])&&p.length>=this.minlength&&!c[p])if(this.optimize||g||this.map[p])k[t++]=p,c[p]=1;else return d;a=k;f=a.length}if(!f)return d;b||(b=100);h=this.depth&&1<f&&!1!==h;c=0;let q;h?(q=a[0],c=1):1<f&&a.sort(A);for(let m,
t;c<f;c++){t=a[c];h?(m=this.add_result(d,g,b,e,2===f,t,q),g&&!1===m&&d.length||(q=t)):m=this.add_result(d,g,b,e,1===f,t);if(m)return m;if(g&&c===f-1){k=d.length;if(!k){if(h){h=0;c=-1;continue}return d}if(1===k)return M(d[0],b,e)}}return J(d,b,e,g)};
K.prototype.add_result=function(a,b,c,d,f,g,e){let h=[],k=e?this.ctx:this.map;this.optimize||(k=O(k,g,e,this.bidirectional));if(k){let q=0;const m=Math.min(k.length,e?this.resolution_ctx:this.resolution);for(let t=0,p=0,l,n;t<m;t++)if(l=k[t])if(this.optimize&&(l=O(l,g,e,this.bidirectional)),d&&l&&f&&(n=l.length,n<=d?(d-=n,l=null):(l=l.slice(d),d=0)),l&&(h[q++]=l,f&&(p+=l.length,p>=c)))break;if(q){if(f)return M(h,c,0);a[a.length]=h;return}}return!b&&h};
function M(a,b,c){a=1===a.length?a[0]:[].concat.apply([],a);return c||a.length>b?a.slice(c,c+b):a}function O(a,b,c,d){c?(d=d&&b>c,a=(a=a[d?b:c])&&a[d?c:b]):a=a[b];return a}K.prototype.contain=function(a){return!!this.register[a]};K.prototype.update=function(a,b){return this.remove(a).add(a,b)};
K.prototype.remove=function(a,b){const c=this.register[a];if(c){if(this.fastupdate)for(let d=0,f;d<c.length;d++)f=c[d],f.splice(f.indexOf(a),1);else P(this.map,a,this.resolution,this.optimize),this.depth&&P(this.ctx,a,this.resolution_ctx,this.optimize);b||delete this.register[a]}return this};
function P(a,b,c,d,f){let g=0;if(a.constructor===Array)if(f)b=a.indexOf(b),-1!==b?1<a.length&&(a.splice(b,1),g++):g++;else{f=Math.min(a.length,c);for(let e=0,h;e<f;e++)if(h=a[e])g=P(h,b,c,d,f),d||g||delete a[e]}else for(let e in a)(g=P(a[e],b,c,d,f))||delete a[e];return g};D("[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5]");D("[\u00e8\u00e9\u00ea\u00eb]");D("[\u00ec\u00ed\u00ee\u00ef]");D("[\u00f2\u00f3\u00f4\u00f5\u00f6\u0151]");D("[\u00f9\u00fa\u00fb\u00fc\u0171]");D("[\u00fd\u0177\u00ff]");D("\u00f1");D("[\u00e7c]");D("\u00df");D(" & ");D("ae");D("oe");D("sh");D("th");D("ph");D("pf");D("(?![aeo])h(?![aeo])");D("(?!^[aeo])h(?!^[aeo])");D("(?!\\b)[aeo]");const Q=self;let R;const S={Index:K,Document:null,Worker:null,registerCharset:function(a,b){I[a]=b},registerLanguage:function(a,b){H[a]=b}};(R=Q.define)&&R.amd?R([],function(){return S}):Q.exports?Q.exports=S:Q.FlexSearch=S;}(this));
