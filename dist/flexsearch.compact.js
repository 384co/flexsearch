/**!
 * FlexSearch.js v0.7.31 (Compact)
 * Copyright 2018-2022 Nextapps GmbH
 * Author: Thomas Wilkerling
 * Licence: Apache-2.0
 * https://github.com/nextapps-de/flexsearch
 */
(function(self){'use strict';function u(a,b){return"undefined"!==typeof a?a:b}function v(a){const b=Array(a);for(let c=0;c<a;c++)b[c]=y();return b}function y(){return Object.create(null)}function aa(a,b){return b.length-a.length}function z(a){return"string"===typeof a}function A(a){return"object"===typeof a};function D(a,b,c,d){if(a&&(b&&(a=E(a,b)),this.matcher&&(a=E(a,this.matcher)),this.stemmer&&1<a.length&&(a=E(a,this.stemmer)),d&&1<a.length&&(a=F(a)),c||""===c)){a=a.split(c);if(this.filter){b=this.filter;c=a.length;d=[];for(let e=0,f=0;e<c;e++){const g=a[e];g&&!b[g]&&(d[f++]=g)}a=d}return a}return a}const H=/[\p{Z}\p{S}\p{P}\p{C}]+/u,ba=/[\u0300-\u036f]/g;
function I(a,b){const c=Object.keys(a),d=c.length,e=[];let f="",g=0;for(let h=0,k,m;h<d;h++)k=c[h],(m=a[k])?(e[g++]=J(b?"(?!\\b)"+k+"(\\b|_)":k),e[g++]=m):f+=(f?"|":"")+k;f&&(e[g++]=J(b?"(?!\\b)("+f+")(\\b|_)":"("+f+")"),e[g]="");return e}function E(a,b){for(let c=0,d=b.length;c<d&&(a=a.replace(b[c],b[c+1]),a);c+=2);return a}function J(a){return new RegExp(a,"g")}function F(a){let b="",c="";for(let d=0,e=a.length,f;d<e;d++)(f=a[d])!==c&&(b+=c=f);return b};var ca={encode:K,rtl:!1,tokenize:""};function K(a){return D.call(this,(""+a).toLowerCase(),!1,H,!1)};const L={},N={};function da(a){O(a,"add");O(a,"append");O(a,"search");O(a,"update");O(a,"remove")}function O(a,b){a[b+"Async"]=function(){const c=this,d=arguments;var e=d[d.length-1];let f;"function"===typeof e&&(f=e,delete d[d.length-1]);e=new Promise(function(g){setTimeout(function(){c.async=!0;const h=c[b].apply(c,d);c.async=!1;g(h)})});return f?(e.then(f),this):e}};function ea(a,b,c,d){const e=a.length;let f=[],g,h,k=0;d&&(d=[]);for(let m=e-1;0<=m;m--){const p=a[m],t=p.length,q=y();let n=!g;for(let l=0;l<t;l++){const r=p[l],w=r.length;if(w)for(let C=0,B,x;C<w;C++)if(x=r[C],g){if(g[x]){if(!m)if(c)c--;else if(f[k++]=x,k===b)return f;if(m||d)q[x]=1;n=!0}if(d&&(B=(h[x]||0)+1,h[x]=B,B<e)){const G=d[B-2]||(d[B-2]=[]);G[G.length]=x}}else q[x]=1}if(d)g||(h=q);else if(!n)return[];g=q}if(d)for(let m=d.length-1,p,t;0<=m;m--){p=d[m];t=p.length;for(let q=0,n;q<t;q++)if(n=
p[q],!g[n]){if(c)c--;else if(f[k++]=n,k===b)return f;g[n]=1}}return f}function ha(a,b){const c=y(),d=y(),e=[];for(let f=0;f<a.length;f++)c[a[f]]=1;for(let f=0,g;f<b.length;f++){g=b[f];for(let h=0,k;h<g.length;h++)k=g[h],c[k]&&!d[k]&&(d[k]=1,e[e.length]=k)}return e};const ia={memory:{charset:"latin:extra",resolution:3,minlength:4,fastupdate:!1},performance:{resolution:3,minlength:3,optimize:!1,context:{depth:2,resolution:1}},match:{charset:"latin:extra",tokenize:"reverse"},score:{charset:"latin:advanced",resolution:20,minlength:3,context:{depth:3,resolution:9}},"default":{}};function P(a,b){if(!(this instanceof P))return new P(a);var c;let d;a?(z(a)?a=ia[a]:(c=a.preset)&&(a=Object.assign({},c[c],a)),c=a.charset,d=a.lang,z(c)&&(-1===c.indexOf(":")&&(c+=":default"),c=N[c]),z(d)&&(d=L[d])):a={};let e,f,g=a.context||{};this.encode=a.encode||c&&c.encode||K;this.register=b||y();this.resolution=e=a.resolution||9;this.tokenize=b=c&&c.tokenize||a.tokenize||"strict";this.depth="strict"===b&&g.depth;this.bidirectional=u(g.bidirectional,!0);this.optimize=f=u(a.optimize,!0);this.fastupdate=
u(a.fastupdate,!0);this.minlength=a.minlength||1;this.boost=a.boost;this.map=f?v(e):y();this.resolution_ctx=e=g.resolution||1;this.ctx=f?v(e):y();this.rtl=c&&c.rtl||a.rtl;this.matcher=(b=a.matcher||d&&d.matcher)&&I(b,!1);this.stemmer=(b=a.stemmer||d&&d.stemmer)&&I(b,!0);if(a=b=a.filter||d&&d.filter){a=b;c=y();for(let h=0,k=a.length;h<k;h++)c[a[h]]=1;a=c}this.filter=a}P.prototype.append=function(a,b){return this.add(a,b,!0)};
P.prototype.add=function(a,b,c,d){if(b&&(a||0===a)){if(!d&&!c&&this.register[a])return this.update(a,b);b=this.encode(""+b);if(d=b.length){const m=y(),p=y(),t=this.depth,q=this.resolution;for(let n=0;n<d;n++){let l=b[this.rtl?d-1-n:n];var e=l.length;if(l&&e>=this.minlength&&(t||!p[l])){var f=Q(q,d,n),g="";switch(this.tokenize){case "full":if(2<e){for(f=0;f<e;f++)for(var h=e;h>f;h--)if(h-f>=this.minlength){var k=Q(q,d,n,e,f);g=l.substring(f,h);this.push_index(p,g,k,a,c)}break}case "reverse":if(1<e){for(h=
e-1;0<h;h--)g=l[h]+g,g.length>=this.minlength&&(k=Q(q,d,n,e,h),this.push_index(p,g,k,a,c));g=""}case "forward":if(1<e){for(h=0;h<e;h++)g+=l[h],g.length>=this.minlength&&this.push_index(p,g,f,a,c);break}default:if(this.boost&&(f=Math.min(f/this.boost(b,l,n)|0,q-1)),this.push_index(p,l,f,a,c),t&&1<d&&n<d-1)for(e=y(),g=this.resolution_ctx,f=l,h=Math.min(t+1,d-n),e[f]=1,k=1;k<h;k++)if((l=b[this.rtl?d-1-n-k:n+k])&&l.length>=this.minlength&&!e[l]){e[l]=1;const r=Q(g+(d/2>g?0:1),d,n,h-1,k-1),w=this.bidirectional&&
l>f;this.push_index(m,w?f:l,r,a,c,w?l:f)}}}}this.fastupdate||(this.register[a]=1)}}return this};function Q(a,b,c,d,e){return c&&1<a?b+(d||0)<=a?c+(e||0):(a-1)/(b+(d||0))*(c+(e||0))+1|0:0}
P.prototype.push_index=function(a,b,c,d,e,f){let g=f?this.ctx:this.map;if(!a[b]||f&&!a[b][f])this.optimize&&(g=g[c]),f?(a=a[b]||(a[b]=y()),a[f]=1,g=g[f]||(g[f]=y())):a[b]=1,g=g[b]||(g[b]=[]),this.optimize||(g=g[c]||(g[c]=[])),e&&g.includes(d)||(g[g.length]=d,this.fastupdate&&(a=this.register[d]||(this.register[d]=[]),a[a.length]=g))};
P.prototype.search=function(a,b,c){c||(!b&&A(a)?(c=a,a=c.query):A(b)&&(c=b));let d=[],e;let f,g=0;if(c){a=c.query||a;b=c.limit;g=c.offset||0;var h=c.context;f=c.suggest}if(a&&(a=this.encode(""+a),e=a.length,1<e)){c=y();var k=[];for(let p=0,t=0,q;p<e;p++)if((q=a[p])&&q.length>=this.minlength&&!c[q])if(this.optimize||f||this.map[q])k[t++]=q,c[q]=1;else return d;a=k;e=a.length}if(!e)return d;b||(b=100);h=this.depth&&1<e&&!1!==h;c=0;let m;h?(m=a[0],c=1):1<e&&a.sort(aa);for(let p,t;c<e;c++){t=a[c];h?(p=
this.add_result(d,f,b,g,2===e,t,m),f&&!1===p&&d.length||(m=t)):p=this.add_result(d,f,b,g,1===e,t);if(p)return p;if(f&&c===e-1){k=d.length;if(!k){if(h){h=0;c=-1;continue}return d}if(1===k)return ja(d[0],b,g)}}return ea(d,b,g,f)};
P.prototype.add_result=function(a,b,c,d,e,f,g){let h=[],k=g?this.ctx:this.map;this.optimize||(k=ka(k,f,g,this.bidirectional));if(k){let m=0;const p=Math.min(k.length,g?this.resolution_ctx:this.resolution);for(let t=0,q=0,n,l;t<p;t++)if(n=k[t])if(this.optimize&&(n=ka(n,f,g,this.bidirectional)),d&&n&&e&&(l=n.length,l<=d?(d-=l,n=null):(n=n.slice(d),d=0)),n&&(h[m++]=n,e&&(q+=n.length,q>=c)))break;if(m){if(e)return ja(h,c,0);a[a.length]=h;return}}return!b&&h};
function ja(a,b,c){a=1===a.length?a[0]:[].concat.apply([],a);return c||a.length>b?a.slice(c,c+b):a}function ka(a,b,c,d){c?(d=d&&b>c,a=(a=a[d?b:c])&&a[d?c:b]):a=a[b];return a}P.prototype.contain=function(a){return!!this.register[a]};P.prototype.update=function(a,b){return this.remove(a).add(a,b)};
P.prototype.remove=function(a,b){const c=this.register[a];if(c){if(this.fastupdate)for(let d=0,e;d<c.length;d++)e=c[d],e.splice(e.indexOf(a),1);else S(this.map,a,this.resolution,this.optimize),this.depth&&S(this.ctx,a,this.resolution_ctx,this.optimize);b||delete this.register[a]}return this};
function S(a,b,c,d,e){let f=0;if(a.constructor===Array)if(e)b=a.indexOf(b),-1!==b?1<a.length&&(a.splice(b,1),f++):f++;else{e=Math.min(a.length,c);for(let g=0,h;g<e;g++)if(h=a[g])f=S(h,b,c,d,e),d||f||delete a[g]}else for(let g in a)(f=S(a[g],b,c,d,e))||delete a[g];return f}da(P.prototype);function T(a){if(!(this instanceof T))return new T(a);var b=a.document||a.doc||a,c;this.tree=[];this.field=[];this.marker=[];this.register=y();this.key=(c=b.key||b.id)&&U(c,this.marker)||"id";this.fastupdate=u(a.fastupdate,!0);this.storetree=(c=b.store)&&!0!==c&&[];this.store=c&&y();this.async=!1;c=y();let d=b.index||b.field||b;z(d)&&(d=[d]);for(let e=0,f,g;e<d.length;e++)f=d[e],z(f)||(g=f,f=f.field),g=A(g)?Object.assign({},a,g):a,this.worker||(c[f]=new P(g,this.register)),this.tree[e]=U(f,this.marker),
this.field[e]=f;if(this.storetree)for(a=b.store,z(a)&&(a=[a]),b=0;b<a.length;b++)this.storetree[b]=U(a[b],this.marker);this.index=c}function U(a,b){const c=a.split(":");let d=0;for(let e=0;e<c.length;e++)a=c[e],0<=a.indexOf("[]")&&(a=a.substring(0,a.length-2))&&(b[d]=!0),a&&(c[d++]=a);d<c.length&&(c.length=d);return 1<d?c:c[0]}function la(a,b){if(z(b))a=a[b];else for(let c=0;a&&c<b.length;c++)a=a[b[c]];return a}
function V(a,b,c,d,e){a=a[e];if(d===c.length-1)b[e]=a;else if(a)if(a.constructor===Array)for(b=b[e]=Array(a.length),e=0;e<a.length;e++)V(a,b,c,d,e);else b=b[e]||(b[e]=y()),e=c[++d],V(a,b,c,d,e)}function W(a,b,c,d,e,f,g,h){if(a=a[g])if(d===b.length-1){if(a.constructor===Array){if(c[d]){for(b=0;b<a.length;b++)e.add(f,a[b],!0,!0);return}a=a.join(" ")}e.add(f,a,h,!0)}else if(a.constructor===Array)for(g=0;g<a.length;g++)W(a,b,c,d,e,f,g,h);else g=b[++d],W(a,b,c,d,e,f,g,h)}T.prototype.push_index=W;
T.prototype.add=function(a,b,c){A(a)&&(b=a,a=la(b,this.key));if(b&&(a||0===a)){if(!c&&this.register[a])return this.update(a,b);for(let d=0,e,f;d<this.field.length;d++)f=this.field[d],e=this.tree[d],z(e)&&(e=[e]),W(b,e,this.marker,0,this.index[f],a,e[0],c);if(this.store&&(!c||!this.store[a])){let d;if(this.storetree){d=y();for(let e=0,f;e<this.storetree.length;e++)f=this.storetree[e],z(f)?d[f]=b[f]:V(b,d,f,0,f[0])}this.store[a]=d||b}}return this};
T.prototype.append=function(a,b){return this.add(a,b,!0)};T.prototype.update=function(a,b){return this.remove(a).add(a,b)};T.prototype.remove=function(a){A(a)&&(a=la(a,this.key));if(this.register[a]){for(let b=0;b<this.field.length&&(this.index[this.field[b]].remove(a,!this.worker),!this.fastupdate);b++);this.store&&delete this.store[a];delete this.register[a]}return this};
T.prototype.search=function(a,b,c,d){c||(!b&&A(a)?(c=a,a=""):A(b)&&(c=b,b=0));let e=[],f=[],g,h,k,m,p,t,q=0;if(c)if(c.constructor===Array)k=c,c=null;else{a=c.query||a;k=(g=c.pluck)||c.index||c.field;m=!1;h=this.store&&c.enrich;p="and"===c.bool;b=c.limit||b||100;t=c.offset||0;if(m&&(z(m)&&(m=[m]),!a)){for(let l=0,r;l<m.length;l++)if(r=ma.call(this,m[l],b,t,h))e[e.length]=r,q++;return q?e:[]}z(k)&&(k=[k])}k||(k=this.field);p=p&&(1<k.length||m&&1<m.length);const n=!d&&(this.worker||this.async)&&[];for(let l=
0,r,w,C;l<k.length;l++){let B;w=k[l];z(w)||(B=w,w=B.field,a=B.query||a,b=B.limit||b);if(n)n[l]=this.index[w].searchAsync(a,b,B||c);else{C=(r=d?d[l]:this.index[w].search(a,b,B||c))&&r.length;if(m&&C){const x=[];let G=0;p&&(x[0]=[r]);for(let R=0,fa,M;R<m.length;R++)if(fa=m[R],C=(M=this.tagindex[fa])&&M.length)G++,x[x.length]=p?[M]:M;G&&(r=p?ea(x,b||100,t||0):ha(r,x),C=r.length)}if(C)f[q]=w,e[q++]=r;else if(p)return[]}}if(n){const l=this;return new Promise(function(r){Promise.all(n).then(function(w){r(l.search(a,
b,c,w))})})}if(!q)return[];if(g&&(!h||!this.store))return e[0];for(let l=0,r;l<f.length;l++){r=e[l];r.length&&h&&(r=na.call(this,r));if(g)return r;e[l]={field:f[l],result:r}}return e};function ma(a,b,c,d){let e=this.tagindex[a],f=e&&e.length-c;if(f&&0<f){if(f>b||c)e=e.slice(c,c+b);d&&(e=na.call(this,e));return{tag:a,result:e}}}function na(a){const b=Array(a.length);for(let c=0,d;c<a.length;c++)d=a[c],b[c]={id:d,doc:this.store[d]};return b}T.prototype.contain=function(a){return!!this.register[a]};
T.prototype.get=function(a){return this.store[a]};T.prototype.set=function(a,b){this.store[a]=b;return this};da(T.prototype);var pa={encode:oa,rtl:!1,tokenize:""};const qa=J("[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5]"),ra=J("[\u00e8\u00e9\u00ea\u00eb]"),sa=J("[\u00ec\u00ed\u00ee\u00ef]"),ta=J("[\u00f2\u00f3\u00f4\u00f5\u00f6\u0151]"),ua=J("[\u00f9\u00fa\u00fb\u00fc\u0171]"),va=J("[\u00fd\u0177\u00ff]"),wa=J("\u00f1"),xa=J("[\u00e7c]"),ya=J("\u00df"),za=J(" & "),Aa=[qa,"a",ra,"e",sa,"i",ta,"o",ua,"u",va,"y",wa,"n",xa,"k",ya,"s",za," and "];
function oa(a){var b=a=""+a;b.normalize&&(b=b.normalize("NFD").replace(ba,""));return D.call(this,b.toLowerCase(),!a.normalize&&Aa,H,!1)};var Ca={encode:Ba,rtl:!1,tokenize:"strict"};const Da=/[^a-z0-9]+/,Ea={b:"p",v:"f",w:"f",z:"s",x:"s","\u00df":"s",d:"t",n:"m",c:"k",g:"k",j:"k",q:"k",i:"e",y:"e",u:"o"};function Ba(a){a=oa.call(this,a).join(" ");const b=[];if(a){const c=a.split(Da),d=c.length;for(let e=0,f,g=0;e<d;e++)if((a=c[e])&&(!this.filter||!this.filter[a])){f=a[0];let h=Ea[f]||f,k=h;for(let m=1;m<a.length;m++){f=a[m];const p=Ea[f]||f;p&&p!==k&&(h+=p,k=p)}b[g++]=h}}return b};var Ga={encode:Fa,rtl:!1,tokenize:""};const Ha=J("ae"),Ia=J("oe"),Ja=J("sh"),Ka=J("th"),La=J("ph"),Ma=J("pf"),Na=[Ha,"a",Ia,"o",Ja,"s",Ka,"t",La,"f",Ma,"f",J("(?![aeo])h(?![aeo])"),"",J("(?!^[aeo])h(?!^[aeo])"),""];function Fa(a,b){a&&(a=Ba.call(this,a).join(" "),2<a.length&&(a=E(a,Na)),b||(1<a.length&&(a=F(a)),a&&(a=a.split(" "))));return a||[]};var Pa={encode:Oa,rtl:!1,tokenize:""};const Qa=J("(?!\\b)[aeo]");function Oa(a){a&&(a=Fa.call(this,a,!0),1<a.length&&(a=a.replace(Qa,"")),1<a.length&&(a=F(a)),a&&(a=a.split(" ")));return a||[]};N["latin:default"]=ca;N["latin:simple"]=pa;N["latin:balance"]=Ca;N["latin:advanced"]=Ga;N["latin:extra"]=Pa;const X=self;let Y;const Z={Index:P,Document:T,Worker:null,registerCharset:function(a,b){N[a]=b},registerLanguage:function(a,b){L[a]=b}};(Y=X.define)&&Y.amd?Y([],function(){return Z}):X.exports?X.exports=Z:X.FlexSearch=Z;}(this));
